(function(e){function t(t){for(var o,r,i=t[0],c=t[1],l=t[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],o=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(o=!1)}o&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},n={app:0},s=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},5087:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=a("bc3a"),s=a.n(n),r=a("2106"),i=a.n(r),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1)],1)},l=[],u={name:"App",data:function(){return{}}},d=u,m=(a("5c0b"),a("2877")),g=a("6544"),h=a.n(g),f=a("7496"),v=a("f6c4"),p=Object(m["a"])(d,c,l,!1,null,null,null),_=p.exports;h()(p,{VApp:f["a"],VMain:v["a"]});var b=a("9483");Object(b["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var k=a("8c4f"),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",[a("v-col",{staticClass:"px-0",attrs:{cols:"2"}},[a("v-card",{staticStyle:{"z-index":"1"},attrs:{height:"120",color:"#063646",width:"257",tile:""}},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",{attrs:{justify:"space-around"}},[a("v-col",{staticClass:"ml-4 mt-2"},[a("v-avatar",{attrs:{size:"80",color:"grey"}},[a("v-img",{attrs:{src:this.data.profilepicture}})],1)],1),a("v-col",{staticClass:"mt-9 mr-9"},[a("p",{staticClass:"white--text"},[e._v(" "+e._s(this.data.nickname)+" ")])])],1)],1)],1)],1),a("v-col",{staticClass:"px-0",attrs:{cols:""}},[a("v-row",[a("v-toolbar",{staticClass:"mt-2",attrs:{color:"#007580"}},[a("v-toolbar-title",{staticStyle:{"font-weight":"bold","font-size":"30px",color:"#ffeda3"}},[e._v("iBEACON")]),a("v-spacer")],1)],1),a("v-row",{attrs:{justify:"center","align-content":"center"}},["timeattendance"===e.selected?a("div",{staticStyle:{"font-weight":"bold","font-size":"35px",color:"#0a81ab"}},[e._v(" ลงเวลาเข้างาน ")]):e._e(),"custommessage"===e.selected?a("div",{staticStyle:{"font-weight":"bold","font-size":"35px",color:"#0a81ab"}},[e._v(" ตั้งค่าข้อความตอบกลับ ")]):e._e(),"lightcontrol"===e.selected?a("div",{staticStyle:{"font-weight":"bold","font-size":"35px",color:"#0a81ab"}},[e._v(" ควบคุมหลอดไฟ ")]):e._e()])],1)],1),a("v-row",{staticClass:"my-0 py-0"},[a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-card",{attrs:{"min-height":"600",height:"100%",width:"245",tile:""}},[a("v-navigation-drawer",{attrs:{permanent:"",color:"#B7B5B4",width:"245"}},[a("v-list",e._l(e.items,(function(t){return a("v-list-item",{key:t.title,attrs:{link:""}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",{on:{click:function(a){e.selected=t.selected}}},[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1)],1)],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"10"}},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-card",{attrs:{tile:"",elevation:"0"}},["timeattendance"===e.selected?a("timeattendance"):e._e(),"custommessage"===e.selected?a("custommessage"):e._e()],1)],1)],1)],1),a("v-footer",{attrs:{color:"#007580",height:"30",fixed:""}})],1)},w=[],y=a("1da1"),C=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-alert",{attrs:{width:"500",border:"right","colored-border":"",type:"error",elevation:"2"}},[e._v(" ขออภัยค่ะ คุณไม่มีสิทธิ์เข้าหน้านี้กรุณาติดต่อแอดมินค่ะ "),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" CLOSE ")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"items-per-page":10,"sort-by":["date","check_in"],"sort-desc":[!0,!0],"multi-sort":"","custom-filter":e.filter_today},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-row",{attrs:{justify:"end"}},[a("v-col",{attrs:{cols:"1"}},[a("v-btn",{staticClass:"ml-14",attrs:{fab:"",small:"",dark:"",color:"teal"},on:{click:function(t){return e.openDialog_Search()}}},[a("v-icon",{attrs:{dark:""}},[e._v(" search ")])],1)],1),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{staticClass:"ml-4",attrs:{fab:"",small:"",dark:"",color:"error"},on:{click:function(t){return e.openDialog_Export()}}},[a("v-icon",{attrs:{dark:""}},[e._v(" get_app ")])],1)],1)],1)]},proxy:!0},{key:"item.covid_tracking",fn:function(t){var o=t.item;return[a("v-chip",{attrs:{color:e.getColor(o.covid_tracking),dark:""}},[e._v(" "+e._s(o.covid_tracking)+" ")])]}},{key:"item.date",fn:function(t){var o=t.item;return[a("v-chip",{attrs:{color:e.getColor_date(o.date),dark:"","text-color":"black"}},[e._v(" "+e._s(o.date)+" ")])]}}])}),a("dialogSearch",{ref:"Search_data",on:{messageFromChild:e.Send_data}}),a("dialogExport",{ref:"Export_data",attrs:{message:this.items}})],1)}),V=[],R=(a("159b"),a("07ac"),a("fb6a"),a("ac1f"),a("841c"),a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"530"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{color:""}},[a("v-system-bar",{attrs:{color:"green lighten-1",height:"50",dark:""}},[a("v-card-title",{staticClass:"white--text"},[e._v("Advanced Search")])],1),a("v-form",{ref:"form"},[a("v-container",[a("v-row",[a("v-col",{staticClass:"mt-3 ml-5 mr-4",attrs:{cols:""}},[a("v-text-field",{ref:"form",attrs:{label:"OneEmail or OneID",solo:"",rounded:"","background-color":"grey lighten-2"},model:{value:e.one_Email,callback:function(t){e.one_Email=t},expression:"one_Email"}})],1)],1),a("v-row",[a("v-col",{staticClass:"ml-5",attrs:{cols:""}},[a("v-select",{attrs:{items:e.items,"item-text":"room_num",rounded:"",label:"สถานที่เช็คอิน",solo:"","background-color":"grey lighten-2"},model:{value:e.checkin_Area,callback:function(t){e.checkin_Area=t},expression:"checkin_Area"}})],1),a("v-col",{staticClass:"mr-4",attrs:{cols:""}},[a("v-select",{attrs:{items:e.items,"item-text":"room_num",rounded:"",label:"สถานที่เช็คเอาท์",solo:"","background-color":"grey lighten-2"},model:{value:e.checkout_Area,callback:function(t){e.checkout_Area=t},expression:"checkout_Area"}})],1)],1),a("v-row",[a("v-col",{staticClass:"ml-3",attrs:{cols:"1"}},[a("v-checkbox",{model:{value:e.checkbox_date,callback:function(t){e.checkbox_date=t},expression:"checkbox_date"}})],1),a("v-col",{staticClass:"mr-n2 ml-n3",attrs:{cols:"5"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"100px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,n=t.attrs;return[!0===e.checkbox_date?a("v-text-field",e._g(e._b({ref:"form",attrs:{"background-color":"grey lighten-2","prepend-inner-icon":"mdi-calendar",rules:e.requireRule,solo:"",label:"Date",readonly:"",rounded:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",n,!1),o)):!1===e.checkbox_date?a("v-text-field",e._g(e._b({ref:"form",attrs:{"background-color":"grey lighten-2","prepend-inner-icon":"mdi-calendar",rules:e.requireRule,solo:"",label:"Date",readonly:"",rounded:"",disabled:""}},"v-text-field",n,!1),o)):e._e()]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{on:{input:function(t){e.menu1=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),a("v-col",{staticClass:"ml-1 mr-n3",attrs:{cols:"1"}},[a("v-checkbox",{model:{value:e.checkbox_month,callback:function(t){e.checkbox_month=t},expression:"checkbox_month"}})],1),a("v-col",{attrs:{cols:"5"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"100px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,n=t.attrs;return[!0===e.checkbox_month?a("v-text-field",e._g(e._b({ref:"form",attrs:{"background-color":"grey lighten-2","prepend-inner-icon":"mdi-calendar",rules:e.requireRule,solo:"",rounded:"",label:"Month",readonly:""},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}},"v-text-field",n,!1),o)):!1===e.checkbox_month?a("v-text-field",e._g(e._b({ref:"form",attrs:{"background-color":"grey lighten-2","prepend-inner-icon":"mdi-calendar",rules:e.requireRule,solo:"",label:"Month",readonly:"",rounded:"",disabled:""}},"v-text-field",n,!1),o)):e._e()]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{attrs:{type:"month"},on:{input:function(t){e.menu2=!1}},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}})],1)],1)],1),a("v-row",[a("v-col",{staticClass:"ml-5",attrs:{cols:""}},[a("v-menu",{ref:"form",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.time=t},"update:return-value":function(t){e.time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"เวลาเข้างาน","prepend-inner-icon":"mdi-clock-time-four-outline",readonly:"",solo:"",rounded:"","background-color":"grey lighten-2"},model:{value:e.time_in,callback:function(t){e.time_in=t},expression:"time_in"}},"v-text-field",n,!1),o))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[e.menu3?a("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.menu.save(e.time)},input:function(t){e.menu3=!1}},model:{value:e.time_in,callback:function(t){e.time_in=t},expression:"time_in"}}):e._e()],1)],1),a("v-col",{staticClass:"mr-4",attrs:{cols:""}},[a("v-menu",{ref:"form",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.time=t},"update:return-value":function(t){e.time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"เวลาออกงาน","prepend-inner-icon":"mdi-clock-time-four-outline",readonly:"",solo:"",rounded:"","background-color":"grey lighten-2"},model:{value:e.time_out,callback:function(t){e.time_out=t},expression:"time_out"}},"v-text-field",n,!1),o))]}}]),model:{value:e.menu4,callback:function(t){e.menu4=t},expression:"menu4"}},[e.menu4?a("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.menu.save(e.time)},input:function(t){e.menu4=!1}},model:{value:e.time_out,callback:function(t){e.time_out=t},expression:"time_out"}}):e._e()],1)],1)],1),a("v-row",{staticClass:"ma-0",attrs:{justify:"end"}},[a("v-col",{staticClass:"mb-2 mr-3",attrs:{cols:"2"}},[a("v-btn",{attrs:{height:"48",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")])],1),a("v-col",{staticClass:"mr-10 mb-2",attrs:{cols:"2"}},[a("v-btn",{attrs:{height:"48",rounded:"",color:"green lighten-1",dark:""},on:{click:function(t){return e.getData()}}},[e._v("Search")])],1)],1)],1)],1)],1)],1)],1)}),A=[],O={data:function(){return{checkbox_month:!1,checkbox_date:!1,dialog:!1,one_Email:"",checkin_Area:"",checkout_Area:"",date:"",month:"",menu1:!1,menu2:!1,room_num:!1,menu_disable:!0,time_in:null,menu3:!1,time_out:null,menu4:!1}},mounted:function(){this.getRoom_num()},methods:{getRoom_num:function(e){var t=this;console.log(e),s.a.get("http://203.151.164.229:5007/api/v1/admin/get_room_number",{headers:{Authorization:"Bearer "+this.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),t.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),t.dialog=!0)})),console.log("result",this.result)},getData:function(){console.log(this.one_Email),this.$emit("messageFromChild",this.one_Email,this.checkin_Area,this.checkout_Area,this.date,this.month,this.time_in,this.time_out),this.$refs.form.reset(),this.one_Email="",this.checkin_Area="",this.checkout_Area="",this.date="",this.month="",this.checkbox_month=!1,this.checkbox_date=!1,this.time_in="",this.time_out="",this.dialog=!1},openDialog:function(){this.dialog=!0}},watch:{checkbox_date:function(e){1==e&&(this.checkbox_month=!1)},checkbox_month:function(e){1==e&&(this.checkbox_date=!1)}}},S=O,F=a("8336"),E=a("b0af"),j=a("99d9"),B=a("ac7c"),D=a("62ad"),$=a("a523"),z=a("2e4b"),T=a("169a"),q=a("4bd4"),N=a("e449"),I=a("0fd9"),P=a("b974"),M=a("afd9"),L=a("8654"),Y=a("c964"),K=Object(m["a"])(S,R,A,!1,null,null,null),U=K.exports;h()(K,{VBtn:F["a"],VCard:E["a"],VCardTitle:j["b"],VCheckbox:B["a"],VCol:D["a"],VContainer:$["a"],VDatePicker:z["a"],VDialog:T["a"],VForm:q["a"],VMenu:N["a"],VRow:I["a"],VSelect:P["a"],VSystemBar:M["a"],VTextField:L["a"],VTimePicker:Y["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{"max-width":"550"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-system-bar",{attrs:{color:"error",height:"50",dark:""}},[a("v-card-title",{staticClass:"white--text"},[e._v("Export File")])],1),a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"mt-6 ml-5",attrs:{cols:""}},[a("p",[e._v("File name:")])]),a("v-col",{staticClass:"mt-4 mr-4",attrs:{cols:"9"}},[a("v-text-field",{ref:"form",attrs:{label:"File name",outlined:"",rounded:"",dense:""},model:{value:e.file_name,callback:function(t){e.file_name=t},expression:"file_name"}})],1)],1),a("v-row",{staticClass:"mx-8 mb-4 mt-n2"},[a("v-chip-group",{attrs:{column:"",multiple:""},model:{value:e.amenities,callback:function(t){e.amenities=t},expression:"amenities"}},[e._l(e.name,(function(t){return a("v-chip",{key:t,attrs:{color:"success",value:t,filter:"",outlined:""},on:{click:function(a){return e.select_header(t.value)}}},[e._v(" "+e._s(t.text)+" ")])})),a("v-chip",{attrs:{filter:"",outlined:"",color:"success"},on:{click:function(t){return e.select_all()}}},[e._v("ทั้งหมด")])],2)],1),a("v-card-actions",{staticClass:"mt-n2"},[a("v-spacer"),a("v-btn",{staticClass:"mb-3",attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" CANCEL ")]),a("v-btn",{staticClass:"mb-3 mr-3",attrs:{color:"error",rounded:"",dark:""},on:{click:function(t){return e.set_message(e.file_name)}}},[e._v(" DOWNLOAD ")])],1)],1)],1)],1)},G=[],W=(a("b0c0"),a("caad"),a("2532"),a("a434"),a("4de4"),a("b64b"),{data:function(){return{amenities:[],header:[],data_list:[],dialog:!1,status_all_button:!1,name:[{text:"One Mail",value:"one_email"},{text:"OneID",value:"one_id"},{text:"เวลาเข้าพื้นที่",value:"check_in"},{text:"เวลาออกพื้นที่",value:"check_out"},{text:"สถานที่เช็คอิน",value:"checkin_area"},{text:"สถานที่เช็คเอาท์",value:"checkout_area"},{text:"สถานะ covid tracking",value:"covid_tracking"},{text:"วันที่",value:"date"}]}},props:{message:String},watch:{status_all_button:function(e){var t=this;!0===e?this.name.forEach((function(e){t.header.includes(e.value)||(console.log(777),t.header.push(e.value)),t.amenities.push(e)})):!1===e&&(this.header=[],this.amenities=[])}},methods:{select_all:function(){this.status_all_button=!this.status_all_button},select_header:function(e){if(console.log(e),this.header.includes(e)){if(this.header.includes(e)){var t=this.header.indexOf(e);this.header.splice(t,1)}}else this.header.push(e)},filter_data:function(e){var t=this,a=Object.keys(e).filter((function(e){return t.header.includes(e)})).reduce((function(t,a){return t[a]=e[a],t}),{});return a},openDialogExport:function(){this.dialog=!0},set_message:function(e){var t=this;this.message.forEach((function(e){t.data_list.push(Object.values(t.filter_data(e)))})),console.log(this.data_list),this.export_file(e,this.data_list)},export_file:function(e,t){var a=this;return Object(y["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n={head:a.header,data:t},o.next=3,s.a.post("http://203.151.164.229:5007/api/v1/report/export?file_name="+e,n,{headers:{Authorization:"Bearer "+a.$store.state.token_user}}).then((function(e){if(console.log("respones=",e),"OK"==e.statusText){var t=e.data.file_name;a.file_Path=e.data.file_path;var o=t.split(".xlsx");console.log(o),a.download_file(o[0],a.file_Path),a.dialog=!1}})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),a.dialog=!0)}));case 3:case"end":return o.stop()}}),o)})))()},download_file:function(e,t){var a=this;return Object(y["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:window.open("http://203.151.164.229:5007/api/v1/report/export?file_path="+t+"&file_name="+e),a.$refs.form.reset(),location.reload();case 3:case"end":return o.stop()}}),o)})))()}}}),H=W,Q=a("cc20"),X=a("ef9a"),Z=a("2fa4"),ee=Object(m["a"])(H,J,G,!1,null,null,null),te=ee.exports;h()(ee,{VBtn:F["a"],VCard:E["a"],VCardActions:j["a"],VCardTitle:j["b"],VChip:Q["a"],VChipGroup:X["a"],VCol:D["a"],VDialog:T["a"],VRow:I["a"],VSpacer:Z["a"],VSystemBar:M["a"],VTextField:L["a"]});var ae={components:{dialogSearch:U,dialogExport:te},data:function(){return{dialog:!1,one_Email:"",checkin:"",checkout:"",date:"",month:"",parameters_onechat_token:null,search:"",data:"",my_head:["One Mail","OneID","เวลาเข้าพื้นที่","เวลาออกพื้นที่","สถานที่เช็คอิน","สถานที่เช็คเอาท์","สถานะ covid tracking","วันที่"],headers:[{text:"",value:"one_email",sortable:!1,class:"table_header",filterable:!1},{text:"",value:"one_id",sortable:!1,class:"table_header",filterable:!1},{text:"",value:"check_in",sortable:!1,class:"table_header",filterable:!1},{text:"",value:"check_out",sortable:!1,class:"table_header",filterable:!1},{text:"",value:"checkin_area",sortable:!1,class:"table_header",filterable:!1},{text:"",value:"checkout_area",sortable:!1,class:"table_header",filterable:!1},{text:"",value:"covid_tracking",sortable:!1,class:"table_header",filterable:!1,disabled:!0},{text:"",value:"date",sortable:!1,class:"table_header",filterable:!1}],items:[],test_items:{name:"farm",age:"24"}}},created:function(){},mounted:function(){var e=this.$route.query;this.parameters_onechat_token=e.onechat_token,window.localStorage.setItem("User_token",this.parameters_onechat_token),this.$store.commit("getToken",this.parameters_onechat_token),this.get_timeattendance(),this.setheader(),this.getColor_date()},methods:{setheader:function(){var e=this;this.headers.forEach((function(t,a){t.text=e.my_head[a]})),console.log(this.headers),console.log(this.test_items),console.log(Object.values(this.test_items))},openDialog_Search:function(){this.$refs.Search_data.openDialog()},openDialog_Export:function(){this.$refs.Export_data.openDialogExport()},Send_data:function(e,t,a,o,n,r,i){var c=this;return Object(y["a"])(regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:if(console.log(r),console.log(i),c.newval=n.slice(5,7),console.log(c.newval),""==r&&""==i||(s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?one_email="+e+"&checkin_area="+t+"&checkout_area="+a+"&checkin_date="+o+"&enter_before="+r+"&out_after="+i,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)})),console.log("result",c.result)),""!=e||""!=t||""!=a||""==c.newval){l.next=9;break}return l.next=8,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?month="+c.newval,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 8:console.log("result",c.result);case 9:if(""==e||""!=t||""!=a||""!=o||""!=c.newval){l.next=20;break}if(1!=isNaN(e)){l.next=16;break}return l.next=13,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?one_email="+e,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 13:console.log("result",c.result),l.next=20;break;case 16:if(0!=isNaN(e)){l.next=20;break}return l.next=19,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?one_id="+e,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 19:console.log("result",c.result);case 20:if(""!=e||""!=t||""!=a||""==o){l.next=24;break}return l.next=23,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?checkin_date="+o,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 23:console.log("result",c.result);case 24:if(""!=e||""==t||""!=a||""!=o||""!=c.newval){l.next=28;break}return l.next=27,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?checkin_area="+t,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 27:console.log("result",c.result);case 28:if(""!=e||""!=t||""==a||""!=o||""!=c.newval){l.next=32;break}return l.next=31,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?checkout_area="+a,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 31:console.log("result",c.result);case 32:if(""==e&&""==t&&""==a&&""==o&&""==c.newval){l.next=64;break}if(""==e){l.next=64;break}if(1!=isNaN(e)){l.next=47;break}if(""==o){l.next=41;break}return l.next=38,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?one_email="+e+"&checkin_area="+t+"&checkout_area="+a+"&checkin_date="+o,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 38:console.log("result",c.result),l.next=45;break;case 41:if(""==c.newval){l.next=45;break}return l.next=44,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?one_email="+e+"&checkin_area="+t+"&checkout_area="+a+"&month="+c.newval,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 44:console.log("result",c.result);case 45:l.next=64;break;case 47:if(0!=isNaN(e)){l.next=64;break}if(""==o){l.next=54;break}return l.next=51,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?one_id="+e+"&checkin_area="+t+"&checkout_area="+a+"&checkin_date="+o,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 51:console.log("result",c.result),l.next=64;break;case 54:if(""!=o&&""!=c.newval){l.next=60;break}return l.next=57,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?one_id="+e+"&checkin_area="+t+"&checkout_area="+a,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 57:console.log("result",c.result),l.next=64;break;case 60:if(""==c.newval){l.next=64;break}return l.next=63,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?one_id="+e+"&checkin_area="+t+"&checkout_area="+a+"&month="+c.newval,{headers:{Authorization:"Bearer "+c.parameters_onechat_token}}).then((function(e){console.log("respones=",e),"success"==e.data.message&&(console.log("data",e.data.result),c.items=e.data.result,console.log("success"))})).catch((function(e){console.log(e.message),"Request failed with status code 401"===e.message&&(console.log("error 401"),c.dialog=!0)}));case 63:console.log("result",c.result);case 64:console.log("items=",c.items);case 65:case"end":return l.stop()}}),l)})))()},get_timeattendance:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance?one_email="+e.search,{headers:{Authorization:"Bearer "+e.parameters_onechat_token}}).then((function(t){console.log("respones=",t),"success"==t.data.message&&(console.log("data",t.data.result),e.items=t.data.result,console.log("success"))})).catch((function(t){console.log(t.message),"Request failed with status code 401"===t.message&&(console.log("error 401"),e.dialog=!0)}));case 2:console.log("result",e.result);case 3:case"end":return t.stop()}}),t)})))()},getColor:function(e){return"red"==e?"red":"green"==e?"green":"yellow"==e?"yellow":"orange"==e?"orange":void 0},getColor_date:function(e){var t=new Date,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),o=a.split("-");if(o[1]<10){if(o[2]<10){var n=t.getFullYear()+"-0"+o[1]+"-0"+o[2];return e==n?"green":"#FFFF"}if(o[2]>9){var s=t.getFullYear()+"-0"+o[1]+"-s"+o[2];return e==s?"green":"#FFFF"}}else if(o[1]>9){if(o[2]<10){var r=t.getFullYear()+"-0"+o[1]+"-0"+o[2];return e==r?"green":"#FFFF"}if(o[2]>9){var i=t.getFullYear()+"-0"+o[1]+"-s"+o[2];return e==i?"green":"#FFFF"}}}}},oe=ae,ne=(a("80ab"),a("0798")),se=a("8fea"),re=a("132d"),ie=Object(m["a"])(oe,C,V,!1,null,"69812a9e",null),ce=ie.exports;h()(ie,{VAlert:ne["a"],VBtn:F["a"],VCardActions:j["a"],VChip:Q["a"],VCol:D["a"],VDataTable:se["a"],VDialog:T["a"],VIcon:re["a"],VRow:I["a"],VSpacer:Z["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.custommessage,(function(t,o){return a("v-card",{key:o,staticClass:"my-7",attrs:{color:"#F9F8F8",elevation:"2"}},[a("v-card-title",[a("div",{staticClass:"titletxt"},[e._v(e._s(t.title))])]),a("v-row",{staticClass:"px-10"},[a("v-col",{attrs:{cols:"8"}},[a("div",{staticClass:"subtitletxt"},[e._v(e._s(t.explain_txt))]),a("v-text-field",{attrs:{solo:"",dense:"",readonly:"",value:t.message}})],1),a("v-col",{staticClass:"mt-6",attrs:{cols:"4"}},[a("v-btn",{attrs:{color:"#FFDD65",elevation:"0"},on:{click:function(a){return e.opendialogEditmessage(t.title,t.key)}}},[e._v("แก้ไข")])],1)],1)],1)})),a("dialogeditmessage",{ref:"editmessage"})],2)},ue=[],de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{"max-width":"450"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{width:"800"}},[a("v-toolbar",{attrs:{dark:"",color:"#007580",elevation:"0"}},[a("v-toolbar-title",[e._v("แก้ไขข้อความ")]),a("v-spacer")],1),a("v-card",{attrs:{tile:"",elevation:"0"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{label:"message","auto-grow":"",outlined:"",rows:"1","row-height":"75",dense:""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),a("v-divider",{staticClass:"mt-n6"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("CLOSE")]),a("v-btn",{attrs:{text:"",color:"#007580"},on:{click:function(t){return e.editmessage(e.messageKey)}}},[e._v("SAVE")])],1)],1)],1)],1)],1)},me=[],ge={data:function(){return{dialog:!1,title:"",message:"",messageKey:null}},methods:{openDialog:function(e,t){this.title=e,this.messageKey=t,this.get_replymessage(t),this.dialog=!0},editmessage:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={key:e,message:t.message},a.next=3,s.a.post("http://203.151.164.229:5007/api/v1/admin/custommessage",o);case 3:n=a.sent,console.log(n),t.$store.commit("Updatemessage",!0),t.message="",t.dialog=!1;case 8:case"end":return a.stop()}}),a)})))()},get_replymessage:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={key:e},a.next=3,s.a.post("http://203.151.164.229:5007/api/v1/admin/get_replymessage",o);case 3:n=a.sent,t.message=n.data.result[0].message;case 5:case"end":return a.stop()}}),a)})))()}}},he=ge,fe=a("ce7e"),ve=a("a844"),pe=a("71d9"),_e=a("2a7f"),be=Object(m["a"])(he,de,me,!1,null,"4784e070",null),ke=be.exports;h()(be,{VBtn:F["a"],VCard:E["a"],VCardActions:j["a"],VCol:D["a"],VDialog:T["a"],VDivider:fe["a"],VSpacer:Z["a"],VTextarea:ve["a"],VToolbar:pe["a"],VToolbarTitle:_e["a"]});var xe={components:{dialogeditmessage:ke},data:function(){return{enter_message:"หวัดดีเบล",custommessage:[{title:"เข้าพื้นที่",explain_txt:"ข้อความที่ส่งหลังจากผู้ใช้เข้าพื้นที่ของ beacon",message:"",key:1},{title:"ทำ Covid tracking เรียบร้อยแล้ว",explain_txt:"กรณีที่ผู้ใช้ทำ covid tracking และลงเวลาเข้างานอัตโนัติ",message:"",key:2},{title:"ยังไม่ทำ Covid tracking",explain_txt:"กรณีที่ผู้ใช้ยังไม่ทำ covid tracking",message:"",key:4},{title:"ข้อความหลังจบ process ทั้งหมด",explain_txt:"ข้อความตอบกลับหลังจากการทำงานของระบบเสร็จสิ้น",message:"",key:3}]}},computed:{updatemessage:function(){return this.$store.state.update_message}},watch:{updatemessage:function(e){!0===e&&(this.setReplymessage(),this.$store.commit("Updatemessage",!1))}},methods:{opendialogEditmessage:function(e,t){this.$refs.editmessage.openDialog(e,t)},get_replymessage:function(e){return Object(y["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={key:e},t.next=3,s.a.post("http://203.151.164.229:5007/api/v1/admin/get_replymessage",a);case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})))()},setReplymessage:function(){var e=this;this.custommessage.forEach(function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.get_replymessage(a.key);case 2:o=t.sent,a.message=o.data.result[0].message;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},created:function(){this.setReplymessage()}},we=xe,ye=(a("ba1b"),Object(m["a"])(we,le,ue,!1,null,"50b2cb42",null)),Ce=ye.exports;h()(ye,{VBtn:F["a"],VCard:E["a"],VCardTitle:j["b"],VCol:D["a"],VRow:I["a"],VTextField:L["a"]});var Ve={components:{timeattendance:ce,custommessage:Ce},data:function(){return{searchClosed:!0,search:null,selected:"timeattendance",items:[{title:"ลงเวลาเข้างาน",icon:"mdi-view-dashboard",selected:"timeattendance"},{title:"ตั้งค่าข้อความตอบกลับ",icon:"mdi-image",selected:"custommessage"},{title:"ควบคุมหลอดไฟ",icon:"mdi-help-box",selected:"lightcontrol"}],right:null,data:[]}},computed:{localAttrs:function(){var e={};return"default"===this.variant?(e.absolute=!1,e.fixed=!1):e[this.variant]=!0,console.log(7777),console.log(e),e}},mounted:function(){this.get_profile()},methods:{testAxios:function(){return Object(y["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(7777),t={one_id:"161465252098792"},e.next=4,s.a.post("http://203.151.164.230:9977/api/get_user_by_oneid",t);case 4:a=e.sent,console.log(t),console.log(a);case 7:case"end":return e.stop()}}),e)})))()},get_profile:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("http://203.151.164.229:5007/api/v1/profile",{headers:{Authorization:"Bearer "+e.$store.state.token_user}});case 2:a=t.sent,e.data=a.data.result[0].onechat_profie.data,console.log(e.data);case 5:case"end":return t.stop()}}),t)})))()}}},Re=Ve,Ae=(a("97a9"),a("8212")),Oe=a("553a"),Se=a("adda"),Fe=a("8860"),Ee=a("da13"),je=a("5d23"),Be=a("34c3"),De=a("f774"),$e=Object(m["a"])(Re,x,w,!1,null,null,null),ze=$e.exports;h()($e,{VAvatar:Ae["a"],VCard:E["a"],VCol:D["a"],VContainer:$["a"],VFooter:Oe["a"],VIcon:re["a"],VImg:Se["a"],VList:Fe["a"],VListItem:Ee["a"],VListItemContent:je["a"],VListItemIcon:Be["a"],VListItemTitle:je["b"],VNavigationDrawer:De["a"],VRow:I["a"],VSpacer:Z["a"],VToolbar:pe["a"],VToolbarTitle:_e["a"]}),o["a"].use(k["a"]);var Te=[{path:"/",name:"main_page",component:ze}],qe=new k["a"]({mode:"history",base:"/",routes:Te}),Ne=qe,Ie=a("2f62");o["a"].use(Ie["a"]);var Pe=new Ie["a"].Store({state:{update_message:!1,token_user:"",profile_user:"",nickname_user:"",one_id_user:""},mutations:{Updatemessage:function(e,t){e.update_message=t},getToken:function(e,t){e.token_user=t},getProfile:function(e,t){e.profile_user=t},getNickname:function(e,t){e.nickname_user=t},getOneID:function(e,t){e.one_id_user=t}},actions:{},modules:{}}),Me=a("f309");o["a"].use(Me["a"]);var Le=new Me["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#063646",secondary:"#007580",custom1:"#0A81AB",custom2:"#ffeda3",custom3:"#282846",custom_grey:"#B7B5B4"}}}});o["a"].config.productionTip=!1,o["a"].use(i.a,s.a),new o["a"]({router:Ne,store:Pe,vuetify:Le,render:function(e){return e(_)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("c58b")},"80ab":function(e,t,a){"use strict";a("f779")},"97a9":function(e,t,a){"use strict";a("5087")},ba1b:function(e,t,a){"use strict";a("bac0")},bac0:function(e,t,a){},c58b:function(e,t,a){},f779:function(e,t,a){}});
//# sourceMappingURL=app.1806e00a.js.map