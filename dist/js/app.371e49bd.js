(function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("bc3a"),s=a.n(n),o=a("2106"),i=a.n(o),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1)],1)},l=[],u={name:"App",data:function(){return{}}},d=u,f=(a("5c0b"),a("2877")),m=a("6544"),v=a.n(m),p=a("7496"),g=a("f6c4"),h=Object(f["a"])(d,c,l,!1,null,null,null),_=h.exports;v()(h,{VApp:p["a"],VMain:g["a"]});var b=a("9483");Object(b["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var x=a("8c4f"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",[a("v-card",{staticStyle:{"z-index":"1"},attrs:{height:"120",color:"#063646",width:"257.1",tile:""}},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[a("v-container",[a("v-col",{attrs:{cols:"2"}},[a("v-avatar",{staticClass:"profile",attrs:{color:"grey",size:"85",tile:""}},[a("v-img",{attrs:{src:this.$store.state.profile_user}})],1)],1)],1)],1)],1)],1),a("v-col",{staticClass:"px-0",attrs:{cols:""}},[a("v-row",[a("v-toolbar",{attrs:{color:"#007580"}},[a("v-toolbar-title",{staticStyle:{"font-weight":"bold","font-size":"30px",color:"#ffeda3"}},[e._v("iBEACON")])],1)],1),a("v-row",{attrs:{justify:"center","align-content":"center"}},["timeattendance"===e.selected?a("div",{staticStyle:{"font-weight":"bold","font-size":"35px",color:"#0a81ab"}},[e._v(" ลงเวลาเข้างาน ")]):e._e(),"custommessage"===e.selected?a("div",{staticStyle:{"font-weight":"bold","font-size":"35px",color:"#0a81ab"}},[e._v(" ตั้งค่าข้อความตอบกลับ ")]):e._e(),"lightcontrol"===e.selected?a("div",{staticStyle:{"font-weight":"bold","font-size":"35px",color:"#0a81ab"}},[e._v(" ควบคุมหลอดไฟ ")]):e._e()])],1)],1),a("v-row",{staticClass:"my-0 py-0"},[a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-card",{attrs:{"min-height":"600",height:"100%",width:"245",tile:""}},[a("v-navigation-drawer",{attrs:{permanent:"",color:"#B7B5B4",width:"245"}},[a("v-list",e._l(e.items,(function(t){return a("v-list-item",{key:t.title,attrs:{link:""}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",{on:{click:function(a){e.selected=t.selected}}},[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1)],1)],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"10"}},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-card",{attrs:{tile:"",elevation:"0"}},["timeattendance"===e.selected?a("timeattendance"):e._e(),"custommessage"===e.selected?a("custommessage"):e._e()],1)],1)],1)],1),a("v-footer",{attrs:{color:"#007580",height:"30",fixed:""}})],1)},w=[],k=a("1da1"),V=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"items-per-page":10,"sort-by":["date","check_in"],"sort-desc":[!0,!0],"multi-sort":"","custom-filter":e.filter_today,search:e.date_filter},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-row",{attrs:{justify:"end"}},[a("v-col",{staticClass:"mr-3",attrs:{cols:"2"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"100px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{"prepend-icon":"mdi-calendar",rules:e.requireRule,dense:"",label:"Date filter",readonly:""},model:{value:e.date_filter,callback:function(t){e.date_filter=t},expression:"date_filter"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{on:{input:function(t){e.menu1=!1}},model:{value:e.date_filter,callback:function(t){e.date_filter=t},expression:"date_filter"}})],1)],1)],1)]},proxy:!0},{key:"item.covid_tracking",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{color:e.getColor(r.covid_tracking),dark:""}},[e._v(" "+e._s(r.covid_tracking)+" ")])]}}])})}),C=[],O={data:function(){return{date_filter:"",parameters_onechat_token:null,menu1:!1,search:"",sortBy:"date",sortDesc:!0,headers:[{text:"One Mail",value:"one_email",sortable:!1,class:"table_header",filterable:!1},{text:"OneID",value:"one_id",sortable:!1,class:"table_header",filterable:!1},{text:"เวลาเข้าพื้นที่",value:"check_in",sortable:!1,class:"table_header",filterable:!1},{text:"เวลาออกพื้นที่",value:"check_out",sortable:!1,class:"table_header",filterable:!1},{text:"สถานที่เช็คอิน",value:"checkin_area",sortable:!1,class:"table_header",filterable:!1},{text:"สถานที่เช็คเอาท์",value:"checkout_area",sortable:!1,class:"table_header",filterable:!1},{text:"สถานะ covid tracking",value:"covid_tracking",sortable:!1,class:"table_header",filterable:!1},{text:"วันที่",value:"date",sortable:!1,class:"table_header",filterable:!0}],items:[]}},created:function(){},mounted:function(){var e=this.$route.query;this.parameters_onechat_token=e.onechat_token,window.localStorage.setItem("User_token",this.parameters_onechat_token),this.$store.commit("getToken",this.parameters_onechat_token),this.get_profile(),this.get_timeattendance()},methods:{get_timeattendance:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("http://203.151.164.229:5007/api/v1/admin/get_timeattendance",{headers:{Authorization:"Bearer "+e.parameters_onechat_token}});case 2:a=t.sent,e.items=a.data.result;case 4:case"end":return t.stop()}}),t)})))()},get_profile:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("http://203.151.164.229:5007/api/v1/profile",{headers:{Authorization:"Bearer "+e.parameters_onechat_token}});case 2:a=t.sent,e.$store.commit("getProfile",a.data.result[0].onechat_profie.data.profilepicture);case 4:case"end":return t.stop()}}),t)})))()},getColor:function(e){return"red"==e?"red":"green"==e?"green":void 0},filter_today:function(e,t){if(e===t)return!0}}},j=O,R=(a("bfc0"),a("cc20")),S=a("62ad"),T=a("8fea"),A=a("2e4b"),B=a("e449"),$=a("0fd9"),D=a("8654"),E=Object(f["a"])(j,V,C,!1,null,"fbe80b52",null),P=E.exports;v()(E,{VChip:R["a"],VCol:S["a"],VDataTable:T["a"],VDatePicker:A["a"],VMenu:B["a"],VRow:$["a"],VTextField:D["a"]});var F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.custommessage,(function(t,r){return a("v-card",{key:r,staticClass:"my-7",attrs:{color:"#F9F8F8",elevation:"2"}},[a("v-card-title",[a("div",{staticClass:"titletxt"},[e._v(e._s(t.title))])]),a("v-row",{staticClass:"px-10"},[a("v-col",{attrs:{cols:"8"}},[a("div",{staticClass:"subtitletxt"},[e._v(e._s(t.explain_txt))]),a("v-text-field",{attrs:{solo:"",dense:"",readonly:"",value:t.message}})],1),a("v-col",{staticClass:"mt-6",attrs:{cols:"4"}},[a("v-btn",{attrs:{color:"#FFDD65",elevation:"0"},on:{click:function(a){return e.opendialogEditmessage(t.title,t.key)}}},[e._v("แก้ไข")])],1)],1)],1)})),a("dialogeditmessage",{ref:"editmessage"})],2)},I=[],z=(a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{"max-width":"450"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{width:"800"}},[a("v-toolbar",{attrs:{dark:"",color:"#007580",elevation:"0"}},[a("v-toolbar-title",[e._v("แก้ไขข้อความ")]),a("v-spacer")],1),a("v-card",{attrs:{tile:"",elevation:"0"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{label:"message","auto-grow":"",outlined:"",rows:"1","row-height":"75",dense:""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),a("v-divider",{staticClass:"mt-n6"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("CLOSE")]),a("v-btn",{attrs:{text:"",color:"#007580"},on:{click:function(t){return e.editmessage(e.messageKey)}}},[e._v("SAVE")])],1)],1)],1)],1)],1)}),M=[],L={data:function(){return{dialog:!1,title:"",message:"",messageKey:null}},methods:{openDialog:function(e,t){this.title=e,this.messageKey=t,this.get_replymessage(t),this.dialog=!0},editmessage:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={key:e,message:t.message},a.next=3,s.a.post("http://203.151.164.229:5007/api/v1/admin/custommessage",r);case 3:n=a.sent,console.log(n),t.$store.commit("Updatemessage",!0),t.message="",t.dialog=!1;case 8:case"end":return a.stop()}}),a)})))()},get_replymessage:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={key:e},a.next=3,s.a.post("http://203.151.164.229:5007/api/v1/admin/get_replymessage",r);case 3:n=a.sent,t.message=n.data.result[0].message;case 5:case"end":return a.stop()}}),a)})))()}}},N=L,U=a("8336"),q=a("b0af"),K=a("99d9"),J=a("169a"),G=a("ce7e"),H=a("2fa4"),Q=a("a844"),W=a("71d9"),X=a("2a7f"),Y=Object(f["a"])(N,z,M,!1,null,"40e8b080",null),Z=Y.exports;v()(Y,{VBtn:U["a"],VCard:q["a"],VCardActions:K["a"],VCol:S["a"],VDialog:J["a"],VDivider:G["a"],VSpacer:H["a"],VTextarea:Q["a"],VToolbar:W["a"],VToolbarTitle:X["a"]});var ee={components:{dialogeditmessage:Z},data:function(){return{enter_message:"หวัดดีเบล",custommessage:[{title:"เข้าพื้นที่",explain_txt:"ข้อความที่ส่งหลังจากผู้ใช้เข้าพื้นที่ของ beacon",message:"",key:1},{title:"ทำ Covid tracking เรียบร้อยแล้ว",explain_txt:"กรณีที่ผู้ใช้ทำ covid tracking และลงเวลาเข้างานอัตโนัติ",message:"",key:2},{title:"ยังไม่ทำ Covid tracking",explain_txt:"กรณีที่ผู้ใช้ยังไม่ทำ covid tracking",message:"",key:4},{title:"ข้อความหลังจบ process ทั้งหมด",explain_txt:"ข้อความตอบกลับหลังจากการทำงานของระบบเสร็จสิ้น",message:"",key:3}]}},computed:{updatemessage:function(){return this.$store.state.update_message}},watch:{updatemessage:function(e){!0===e&&(this.setReplymessage(),this.$store.commit("Updatemessage",!1))}},methods:{opendialogEditmessage:function(e,t){this.$refs.editmessage.openDialog(e,t)},get_replymessage:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={key:e},t.next=3,s.a.post("http://203.151.164.229:5007/api/v1/admin/get_replymessage",a);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},setReplymessage:function(){var e=this;this.custommessage.forEach(function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.get_replymessage(a.key);case 2:r=t.sent,a.message=r.data.result[0].message;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},created:function(){this.setReplymessage()}},te=ee,ae=(a("b9b9"),Object(f["a"])(te,F,I,!1,null,"7aa20a74",null)),re=ae.exports;v()(ae,{VBtn:U["a"],VCard:q["a"],VCardTitle:K["b"],VCol:S["a"],VRow:$["a"],VTextField:D["a"]});var ne={components:{timeattendance:P,custommessage:re},data:function(){return{selected:"timeattendance",items:[{title:"ลงเวลาเข้างาน",icon:"mdi-view-dashboard",selected:"timeattendance"},{title:"ตั้งค่าข้อความตอบกลับ",icon:"mdi-image",selected:"custommessage"},{title:"ควบคุมหลอดไฟ",icon:"mdi-help-box",selected:"lightcontrol"}],right:null}},computed:{localAttrs:function(){var e={};return"default"===this.variant?(e.absolute=!1,e.fixed=!1):e[this.variant]=!0,console.log(7777),console.log(e),e}},methods:{testAxios:function(){return Object(k["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(7777),t={one_id:"161465252098792"},e.next=4,s.a.post("http://203.151.164.230:9977/api/get_user_by_oneid",t);case 4:a=e.sent,console.log(t),console.log(a);case 7:case"end":return e.stop()}}),e)})))()}}},se=ne,oe=a("8212"),ie=a("a523"),ce=a("553a"),le=a("132d"),ue=a("adda"),de=a("8860"),fe=a("da13"),me=a("5d23"),ve=a("34c3"),pe=a("f774"),ge=Object(f["a"])(se,y,w,!1,null,"33341b1f",null),he=ge.exports;v()(ge,{VAvatar:oe["a"],VCard:q["a"],VCol:S["a"],VContainer:ie["a"],VFooter:ce["a"],VIcon:le["a"],VImg:ue["a"],VList:de["a"],VListItem:fe["a"],VListItemContent:me["a"],VListItemIcon:ve["a"],VListItemTitle:me["b"],VNavigationDrawer:pe["a"],VRow:$["a"],VToolbar:W["a"],VToolbarTitle:X["a"]}),r["a"].use(x["a"]);var _e=[{path:"/",name:"main_page",component:he}],be=new x["a"]({mode:"history",base:"/",routes:_e}),xe=be,ye=a("2f62");r["a"].use(ye["a"]);var we=new ye["a"].Store({state:{update_message:!1,token_user:"",profile_user:""},mutations:{Updatemessage:function(e,t){e.update_message=t},getToken:function(e,t){e.token_user=t},getProfile:function(e,t){e.profile_user=t}},actions:{},modules:{}}),ke=a("f309");r["a"].use(ke["a"]);var Ve=new ke["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#063646",secondary:"#007580",custom1:"#0A81AB",custom2:"#ffeda3",custom3:"#282846",custom_grey:"#B7B5B4"}}}});r["a"].config.productionTip=!1,r["a"].use(i.a,s.a),new r["a"]({router:xe,store:we,vuetify:Ve,render:function(e){return e(_)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("c58b")},"5d22":function(e,t,a){},b9b9:function(e,t,a){"use strict";a("d3ef")},bfc0:function(e,t,a){"use strict";a("5d22")},c58b:function(e,t,a){},d3ef:function(e,t,a){}});
//# sourceMappingURL=app.371e49bd.js.map